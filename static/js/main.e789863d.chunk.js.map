{"version":3,"sources":["components/context/AppReducer.js","components/context/GlobalState.js","components/Header/Header.jsx","components/ResultCard/ResultCard.jsx","components/Add/Add.jsx","components/MovieConrols/MovieConrols.jsx","components/Popup/Popup.jsx","components/MovieCard/MovieCard.jsx","components/WatchList/WatchList.jsx","components/Watched/Watched.jsx","App.jsx","index.js"],"names":["state","action","type","watchlist","payload","filter","item","id","watched","initialState","localStorage","getItem","JSON","parse","GlobalContext","createContext","GlobalProvider","props","useReducer","AppReducer","dispatch","useEffect","setItem","stringify","Provider","value","addMovieToWatchList","movie","removeMovieToWatchList","addMovieToWatched","movieToWatchList","removeToWatched","children","Header","className","to","ResultCard","useContext","storedMovie","find","storedMovieWatched","watchListDissableButton","watchedDissableButton","poster_path","src","alt","title","release_date","substring","disabled","onClick","Add","useState","search","setSearch","result","setResult","console","log","placeholder","onChange","e","preventDefault","target","fetch","process","then","res","json","data","errors","results","length","map","key","MovieConrols","del","window","confirm","confirmationWatched","confirmation","Popup","original_title","vote_average","replace","original_language","toUpperCase","overview","MovieCard","open","setOpen","wrapperRef","React","createRef","onclick","current","addEventListener","keyCode","ref","WatchList","i","Watched","App","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e789863d.chunk.js","sourcesContent":["export default (state, action) => {\r\n  switch (action.type) {\r\n    case \"ADD_MOVIE_TO_WATCH_LIST\":\r\n      return {\r\n        ...state,\r\n        watchlist: [action.payload, ...state.watchlist],\r\n      };\r\n    case \"REMOVE_MOVIE_TO_WATCH_LIST\":\r\n      return {\r\n        ...state,\r\n        watchlist: state.watchlist.filter((item) => item.id !== action.payload),\r\n      };\r\n    case \"ADD_MOVIE_TO_WATCHED_LIST\":\r\n      //удаляем из списка\r\n      return {\r\n        ...state,\r\n        watchlist: state.watchlist.filter(\r\n          (item) => item.id !== action.payload.id\r\n        ),\r\n        watched: [action.payload, ...state.watched],\r\n      };\r\n\r\n    case \"MOVE_TO_WATCH_LIST\":\r\n      //удаляем из списка\r\n      return {\r\n        ...state,\r\n        watched: state.watched.filter((item) => item.id !== action.payload.id),\r\n        watchlist: [action.payload, ...state.watchlist],\r\n      };\r\n\r\n    case \"REMOVE_TO_WATCHED\":\r\n      return {\r\n        ...state,\r\n        watched: state.watched.filter((item) => item.id !== action.payload),\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React, { createContext, useReducer, useEffect } from \"react\";\r\nimport AppReducer from \"./AppReducer\";\r\n\r\n//initial state\r\n\r\nconst initialState = {\r\n  watchlist: localStorage.getItem(\"watchlist\")\r\n    ? JSON.parse(localStorage.getItem(\"watchlist\"))\r\n    : [],\r\n  watched: localStorage.getItem(\"watched\")\r\n    ? JSON.parse(localStorage.getItem(\"watched\"))\r\n    : [],\r\n};\r\n\r\n//create context\r\n\r\nexport const GlobalContext = createContext(initialState);\r\n\r\n//provider components\r\n\r\nexport const GlobalProvider = (props) => {\r\n  const [state, dispatch] = useReducer(AppReducer, initialState);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"watchlist\", JSON.stringify(state.watchlist));\r\n    localStorage.setItem(\"watched\", JSON.stringify(state.watched));\r\n  }, [state]);\r\n\r\n  //actions\r\n\r\n  const addMovieToWatchList = (movie) => {\r\n    dispatch({ type: \"ADD_MOVIE_TO_WATCH_LIST\", payload: movie });\r\n  };\r\n\r\n  const removeMovieToWatchList = (id) => {\r\n    dispatch({ type: \"REMOVE_MOVIE_TO_WATCH_LIST\", payload: id });\r\n  };\r\n\r\n  const addMovieToWatched = (movie) => {\r\n    dispatch({ type: \"ADD_MOVIE_TO_WATCHED_LIST\", payload: movie });\r\n  };\r\n\r\n  const movieToWatchList = (movie) => {\r\n    dispatch({ type: \"MOVE_TO_WATCH_LIST\", payload: movie });\r\n  };\r\n  const removeToWatched = (id) => {\r\n    dispatch({ type: \"REMOVE_TO_WATCHED\", payload: id });\r\n  };\r\n\r\n  return (\r\n    <GlobalContext.Provider\r\n      value={{\r\n        watchlist: state.watchlist,\r\n        watched: state.watched,\r\n        addMovieToWatchList: addMovieToWatchList,\r\n        removeMovieToWatchList: removeMovieToWatchList,\r\n        addMovieToWatched: addMovieToWatched,\r\n        movieToWatchList: movieToWatchList,\r\n        removeToWatched: removeToWatched,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </GlobalContext.Provider>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header>\r\n      <div className=\"container\">\r\n        <div className=\"inner-content\">\r\n          <div className=\"brand\">\r\n            <Link to=\"/\">Список фильмов</Link>\r\n          </div>\r\n          <ul className=\"nav-links\">\r\n            <li>\r\n              <Link to=\"/\">Смотреть позже</Link>\r\n            </li>\r\n            <li>\r\n              <Link to=\"/watched\">Просмотренные</Link>\r\n            </li>\r\n            <li>\r\n              <Link to=\"/add\" className=\"btn\">\r\n                Поиск\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useContext } from \"react\";\r\nimport { GlobalContext } from \"../context/GlobalState\";\r\n\r\nconst ResultCard = ({ movie }) => {\r\n  //useglobalcontext\r\n  const {\r\n    addMovieToWatchList,\r\n    addMovieToWatched,\r\n    watchlist,\r\n    watched,\r\n  } = useContext(GlobalContext);\r\n  //btn disable button id === id\r\n  let storedMovie = watchlist.find((item) => item.id === movie.id);\r\n  let storedMovieWatched = watched.find((item) => item.id === movie.id);\r\n\r\n  const watchListDissableButton = storedMovie\r\n    ? true\r\n    : storedMovieWatched\r\n    ? true\r\n    : false;\r\n  const watchedDissableButton = storedMovieWatched ? true : false;\r\n\r\n  return (\r\n    <div className=\"result-card\">\r\n      <div className=\"poster-wrapper\">\r\n        {movie.poster_path ? (\r\n          <img\r\n            src={`https://image.tmdb.org/t/p/w200${movie.poster_path}`}\r\n            alt={`${movie.title} Poster`}\r\n          />\r\n        ) : (\r\n          <div className=\"filter-poster\"></div>\r\n        )}\r\n      </div>\r\n      <div className=\"info\">\r\n        <div className=\"header\">\r\n          <h3 className=\"title\">{movie.title}</h3>\r\n          <h4 className=\"release-day\">\r\n            {movie.release_date ? movie.release_date.substring(0, 4) : null}\r\n            {movie.release_date ? movie.release_date.substring(0, 4) : `-`}\r\n          </h4>\r\n        </div>\r\n        <div className=\"controls\">\r\n          <button\r\n            disabled={watchListDissableButton}\r\n            className=\"btn\"\r\n            onClick={() => {\r\n              addMovieToWatchList(movie);\r\n            }}\r\n          >\r\n            Добавить в список\r\n          </button>\r\n\r\n          <button\r\n            disabled={watchedDissableButton}\r\n            className=\"btn\"\r\n            onClick={() => {\r\n              addMovieToWatched(movie);\r\n            }}\r\n          >\r\n            В просмотренные\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResultCard;\r\n","import React, { useState } from \"react\";\r\nimport ResultCard from \"../ResultCard/ResultCard\";\r\n\r\nconst Add = () => {\r\n  const [search, setSearch] = useState(\"\");\r\n  const [result, setResult] = useState([]);\r\n\r\n  const onChangeInput = (e) => {\r\n    e.preventDefault();\r\n    setSearch(e.target.value);\r\n    fetch(\r\n      ` https://api.themoviedb.org/3/search/movie?api_key=${process.env.REACT_APP_TMBD_KEY}&language=ru-RU&page=1&include_adult=false&query=${e.target.value}`\r\n    )\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (!data.errors) {\r\n          setResult(data.results);\r\n        } else {\r\n          setResult([]);\r\n        }\r\n      });\r\n  };\r\n  console.log(result);\r\n\r\n  return (\r\n    <div className=\"add-page\">\r\n      <div className=\"container\">\r\n        <div className=\"add-content\">\r\n          <div className=\"input-wrapper\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Поиск фильмов\"\r\n              onChange={onChangeInput}\r\n              value={search}\r\n            />\r\n\r\n            {result.length > 0 && (\r\n              <div className=\"results\">\r\n                {result.map((item) => (\r\n                  <li key={item.id}>\r\n                    <ResultCard movie={item} />\r\n                  </li>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Add;\r\n","import React, { useContext } from \"react\";\r\nimport { GlobalContext } from \"../context/GlobalState\";\r\n\r\nconst MovieConrols = ({ movie, type }) => {\r\n  const {\r\n    removeMovieToWatchList,\r\n    addMovieToWatched,\r\n    movieToWatchList,\r\n    removeToWatched,\r\n  } = useContext(GlobalContext);\r\n\r\n  const confirmation = () => {\r\n    let del = window.confirm(`удалить фильм?`);\r\n    if (del === true) {\r\n      removeMovieToWatchList(movie.id);\r\n    }\r\n    return del;\r\n  };\r\n  const confirmationWatched = () => {\r\n    let del = window.confirm(`добавить фильм в спиок просмотренных?`);\r\n    if (del === true) {\r\n      addMovieToWatched(movie);\r\n    }\r\n    return del;\r\n  };\r\n\r\n  return (\r\n    <div className=\"inner-card-controls\">\r\n      {type === \"watchlist\" && (\r\n        <>\r\n          <button className=\"ctrl-btn\" onClick={() => confirmationWatched()}>\r\n            <i className=\"fa-fw far fa-eye\"></i>\r\n          </button>\r\n          <button className=\"ctrl-btn\" onClick={() => confirmation()}>\r\n            <i className=\"fa-fw fa fa-times\"></i>\r\n          </button>\r\n        </>\r\n      )}\r\n\r\n      {type === \"watched\" && (\r\n        <>\r\n          <button className=\"ctrl-btn\" onClick={() => movieToWatchList(movie)}>\r\n            <i className=\"fa-fw far fa-eye-slash\"></i>\r\n          </button>\r\n          <button\r\n            className=\"ctrl-btn\"\r\n            onClick={() => removeToWatched(movie.id)}\r\n          >\r\n            <i className=\"fa-fw fa fa-times\"></i>\r\n          </button>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MovieConrols;\r\n","import React from \"react\";\r\n\r\nconst Popup = ({ movie }) => {\r\n  return (\r\n    <div className=\"popup\">\r\n      <div className=\"content\">\r\n        <div className=\"img-popup\">\r\n          {movie.poster_path ? (\r\n            <img\r\n              src={`https://image.tmdb.org/t/p/w300${movie.poster_path}`}\r\n              alt={`${movie.title} Poster`}\r\n            />\r\n          ) : (\r\n            <div className=\"filter-poster\"></div>\r\n          )}\r\n        </div>\r\n        <div className=\"text-popup\">\r\n          <ul>\r\n            <li>\r\n              Название: <span>{movie.title}</span>\r\n              <br />\r\n              <small>{movie.original_title}</small>\r\n            </li>\r\n\r\n            <li>\r\n              Средняя оценка: <span>{movie.vote_average}</span>\r\n            </li>\r\n            <li>\r\n              Выход: <span>{movie.release_date.replace(/-/g, \".\")}</span>\r\n            </li>\r\n            <li>\r\n              Оригенальный язык:\r\n              <span>{movie.original_language.toUpperCase()}</span>\r\n            </li>\r\n            <li>\r\n              Описание:\r\n              <span>{movie.overview}</span>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Popup;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport MovieConrols from \"../MovieConrols/MovieConrols\";\r\nimport Popup from \"../Popup/Popup\";\r\n\r\nconst MovieCard = ({ movie, type }) => {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const wrapperRef = React.createRef();\r\n\r\n  const OpenPopup = () => {\r\n    setOpen(!open);\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.onclick = function (e) {\r\n      if (!wrapperRef.current) {\r\n        return;\r\n      }\r\n      window.addEventListener(\r\n        \"keydown\",\r\n        function (e) {\r\n          if (e.keyCode == 27) {\r\n            setOpen(false);\r\n          }\r\n        },\r\n        true\r\n      );\r\n\r\n      if (e.target !== wrapperRef.current) {\r\n        setOpen(false);\r\n      }\r\n    };\r\n  }, [wrapperRef]);\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className=\"movie-card\"\r\n        ref={wrapperRef}\r\n        onClick={() => {\r\n          OpenPopup();\r\n        }}\r\n      >\r\n        <div className=\"overlay\"></div>\r\n        {movie.poster_path ? (\r\n          <img\r\n            src={`https://image.tmdb.org/t/p/w200${movie.poster_path}`}\r\n            alt={`${movie.title} Poster`}\r\n          />\r\n        ) : (\r\n          <div className=\"filter-poster\"></div>\r\n        )}\r\n\r\n        <MovieConrols type={type} movie={movie} />\r\n      </div>\r\n      {open ? <Popup movie={movie} /> : null}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MovieCard;\r\n","import React, { useContext } from \"react\";\r\nimport { GlobalContext } from \"../context/GlobalState\";\r\nimport MovieCard from \"../MovieCard/MovieCard\";\r\n\r\nconst WatchList = () => {\r\n  const { watchlist } = useContext(GlobalContext);\r\n\r\n  return (\r\n    <div className=\"movie-page\">\r\n      <div className=\"container\">\r\n        <div className=\"header\">\r\n          <h1 className=\"heading\">Мой список</h1>\r\n        </div>\r\n        {watchlist.length > 0 ? (\r\n          <div className=\"movie-grid\">\r\n            {watchlist.map((item, i) => (\r\n              <MovieCard key={i} movie={item} type=\"watchlist\" />\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <h2 className=\"no-movies\">Нет фильмов в списке</h2>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WatchList;\r\n","import React, { useContext } from \"react\";\r\n\r\nimport { GlobalContext } from \"../context/GlobalState\";\r\nimport MovieCard from \"../MovieCard/MovieCard\";\r\n\r\nconst Watched = () => {\r\n  const { watched } = useContext(GlobalContext);\r\n\r\n  return (\r\n    <div className=\"movie-page\">\r\n      <div className=\"container\">\r\n        <div className=\"header\">\r\n          <h1 className=\"heading\">watched movies</h1>\r\n        </div>\r\n        {watched.length > 0 ? (\r\n          <div className=\"movie-grid\">\r\n            {watched.map((item, i) => (\r\n              <MovieCard key={i} movie={item} type=\"watched\" />\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <h2 className=\"no-movies\">Нет фильмов в списке</h2>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Watched;\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\n\r\nimport { GlobalProvider } from \"./components/context/GlobalState\";\r\n\r\nimport Header from \"./components/Header/Header\";\r\nimport Add from \"./components/Add/Add\";\r\nimport WatchList from \"./components/WatchList/WatchList\";\r\nimport Watched from \"./components/Watched/Watched\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <GlobalProvider>\r\n      <Router>\r\n        <Header />\r\n        <Switch>\r\n          <Route exact path=\"/\" component={WatchList} />\r\n          <Route path=\"/watched\" component={Watched} />\r\n          <Route path=\"/add\" component={Add} />\r\n        </Switch>\r\n      </Router>\r\n    </GlobalProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}